import GEN from"./../controllers/gen.js";export default function mtbl_controller($scope,$compile){const gen=new GEN;async function DefaltLoad(){const projects=gen.getAllProjects(),units=gen.getAllUnits();$scope.projects=await projects,$scope.units=await units}$scope.projects=[],$scope.uints=[],DefaltLoad();var sel_project_name="",sel_project_no="",sel_project_location="";$scope.show_project_finder=()=>{document.getElementById("projectfilter").style.display="block",document.getElementById("directive_project_search_input").focus()},$scope.mtbl={isloading:!1,title:"New Entry",btntitle:"Save",data:{loadid:"",loadproject:"",location:"",description:"",qty:"",unit:"",loadingdate:"",ascurrentdate:"",driver:"",status:"",remark:"",pjcno:""}},window.addEventListener("keydown",e=>{192===e.which&&(document.getElementById("projectfilter").style.display="none",document.getElementById("unitfilter").style.display="none")}),$scope.getinfoprojects=x=>{console.log(x),sel_project_name=x.project_name,sel_project_no=x.project_no,sel_project_location=x.project_location,$scope.mtbl={...$scope.mtbl,data:{...$scope.mtbl.data,location:sel_project_location,loadproject:sel_project_name,pjcno:sel_project_no}},$scope.srcproject="",document.getElementById("projectfilter").style.display="none",document.getElementById("loadproject").setAttribute("readonly",!0),document.getElementById("location").focus()},$scope.project_filter_input_keydown=$event=>{192!==$event.which||(document.getElementById("projectfilter").style.display="none")},$scope.show_unitfilters=()=>{document.getElementById("unitfilter").style.display="block",document.getElementById("directive_unit_search_input").focus()};var sel_unit="";$scope.getunitinfo=x=>{sel_unit=x.unitname,$scope.mtbl={...$scope.mtbl,data:{...$scope.mtbl.data,unit:sel_unit}},document.getElementById("unitfilter").style.display="none",document.getElementById("loadingdate").focus()}}